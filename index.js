import{i as f,a as y}from"./assets/vendor-DSJL_ovD.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=a(e);fetch(e.href,s)}})();function p(t,o){return y.post("https://portfolio-js.b.goit.study/api/requests",{email:t,comment:o})}const m=document.querySelector(".work-together-form"),v=document.querySelector(".modal-close"),n=document.querySelector(".backdrop"),r=document.getElementById("email"),d=document.querySelector(".success-filled"),l=document.querySelector(".invalid-email");m.addEventListener("submit",L);r.addEventListener("input",h);v.addEventListener("click",u);n.addEventListener("click",E);document.addEventListener("keydown",b);async function L(t){t.preventDefault();const o=t.target.email.value.trim(),a=t.target.message.value.trim();d.classList.add("visually-hidden");try{const i=await p(o,a);i.status===201&&(m.reset(),g(i.data.title,i.data.message))}catch{S()}}function h(){r.validity.valid?(l.classList.add("visually-hidden"),r.classList.remove("no-valid"),d.classList.remove("visually-hidden")):(console.log("nope"),r.classList.add("no-valid"),l.classList.remove("visually-hidden"),d.classList.add("visually-hidden"),r.value.trim()===""&&l.classList.add("visually-hidden"))}function g(t,o){n.classList.remove("visually-hidden"),document.body.classList.add("no-scroll"),document.querySelector(".modal-title").innerHTML=t,document.querySelector(".modal-text").innerHTML=o}function u(){n.classList.add("visually-hidden"),document.body.classList.remove("no-scroll")}function E(t){t.target.classList.contains("backdrop")&&u()}function b(t){t.key==="Escape"&&!n.classList.contains("visually-hidden")&&u()}function S(){f.show({title:"An error occurred!",message:"Correct the entered data and send again",position:"center"})}
//# sourceMappingURL=index.js.map
